<html>

<head>
    <title>Birds of a Feather Scoring Sheet</title>
    <script type="text/javascript">
        const environments = ["desert", "forest", "mountains", "ocean", "marsh"];
        const birdTypes = ["egg", "1f", "2f", "3f", "1w", "p", "2w"];
        const scoring = { "egg": 0, "1f": 1, "2f": 1, "3f": 1, "1w": 1, "p": 1, "2w": 2 };

        const reset = () => {
            environments.forEach(environment => {
                birdTypes.forEach(birdType => {
                    document.getElementById(environment + "_" + birdType).checked = false;
                })
                document.getElementById(environment + "_all").checked = false;
                document.getElementById(environment + "_score").innerHTML = 0;
            })
            checkClick()
        }

        const checkClick = () => {
            var totalScore = 0;
            environments.forEach(environment => {
                var environmentScore = 0;
                var hasEgg = false;
                birdTypes.forEach(birdType => {
                    let identifier = environment + "_" + birdType;
                    let element = document.getElementById(identifier);
                    if (element.checked) {
                        environmentScore += scoring[birdType];
                        if (birdType == "egg") {
                            hasEgg = true
                        }
                    }
                });
                if ((environmentScore == 7) && hasEgg) {
                    document.getElementById(environment + "_all").checked = true;
                    environmentScore += 3;
                } else {
                    document.getElementById(environment + "_all").checked = false;
                }
                document.getElementById(environment + "_score").innerHTML = environmentScore;
                totalScore += environmentScore;
            });
            document.getElementById("total_score").innerHTML = totalScore;
        }
    </script>
    <style>
        input[type="checkbox"] {
            zoom: 1.5;
        }

        table {
            width: 100%;
            height: 100%;
            border: 0px;
            table-layout: fixed;
        }

        td {
            text-align: center;
            padding: 0px;
        }

        td.score_label {
            text-align: right;
        }

        th button {
            float: left;
        }

        tr {
            background-color: lightgray;
        }
        tr.desert {
            background-color: lightyellow;
        }

        tr.forest {
            background-color: lightgreen;
        }

        tr.mountains {
            background-color: lightcoral;
        }

        tr.ocean {
            background-color: teal;
        }

        tr.marsh {
            background-color: lightblue;
        }
    </style>
</head>

<body onload="reset()">
    <table>
        <tbody>
            <tr>
                <th scope="col">BoaF</th>
                <th scope="col">egg<br />&bull;&bull;&bull;</th>
                <th scope="col">1f<br />&bull;&bull;</th>
                <th scope="col">2f<br />&bull;&bull;</th>
                <th scope="col">3f<br />&bull;&bull;</th>
                <th scope="col">1w<br />&bull;</th>
                <th scope="col">p<br />&bull;</th>
                <th scope="col">2w<br />&bull;</th>
                <th scope="col">all</th>
                <th scope="col">&#10047;</th>
            </tr>
            <tr class="desert">
                <th scope="row">desert</th>
                <td><input type="checkbox" id="desert_egg" onclick="checkClick(this)"><br />&nbsp;</td>
                <td><input type="checkbox" id="desert_1f" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="desert_2f" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="desert_3f" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="desert_1w" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="desert_p" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="desert_2w" onclick="checkClick(this)"><br />**</td>
                <td><input type="checkbox" id="desert_all" onclick="return false;"><br />***</td>
                <td><span id="desert_score">0</td>
            </tr>
            <tr class="forest">
                <th scope="row">forest</th>
                <td><input type="checkbox" id="forest_egg" onclick="checkClick(this)"><br />&nbsp;</td>
                <td><input type="checkbox" id="forest_1f" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="forest_2f" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="forest_3f" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="forest_1w" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="forest_p" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="forest_2w" onclick="checkClick(this)"><br />**</td>
                <td><input type="checkbox" id="forest_all" onclick="return false;"><br />***</td>
                <td><span id="forest_score">0</td>
            </tr>
            <tr class="mountains">
                <th scope="row">mountains</th>
                <td><input type="checkbox" id="mountains_egg" onclick="checkClick(this)"><br />&nbsp;</td>
                <td><input type="checkbox" id="mountains_1f" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="mountains_2f" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="mountains_3f" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="mountains_1w" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="mountains_p" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="mountains_2w" onclick="checkClick(this)"><br />**</td>
                <td><input type="checkbox" id="mountains_all" onclick="return false;"><br />***</td>
                <td><span id="mountains_score">0</td>
            </tr>
            <tr class="ocean">
                <th scope="row">ocean</th>
                <td><input type="checkbox" id="ocean_egg" onclick="checkClick(this)"><br />&nbsp;</td>
                <td><input type="checkbox" id="ocean_1f" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="ocean_2f" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="ocean_3f" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="ocean_1w" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="ocean_p" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="ocean_2w" onclick="checkClick(this)"><br />**</td>
                <td><input type="checkbox" id="ocean_all" onclick="return false;"><br />***</td>
                <td><span id="ocean_score">0</td>
            </tr>
            <tr class="marsh">
                <th scope="row">marsh</th>
                <td><input type="checkbox" id="marsh_egg" onclick="checkClick(this)"><br />&nbsp;</td>
                <td><input type="checkbox" id="marsh_1f" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="marsh_2f" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="marsh_3f" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="marsh_1w" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="marsh_p" onclick="checkClick(this)"><br />*</td>
                <td><input type="checkbox" id="marsh_2w" onclick="checkClick(this)"><br />**</td>
                <td><input type="checkbox" id="marsh_all" onclick="return false;"><br />***</td>
                <td><span id="marsh_score">0</td>
            </tr>
            <tr>
                <th scope="row" colspan="8"><button onclick="reset()" id="reset_button">reset</button></th>
                <td class="score_label">Score:</td>
                <td id="total_score">10</td>
            </tr>
        </tbody>
    </table>
</body>

</html>